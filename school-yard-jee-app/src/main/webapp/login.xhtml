<ui:composition template="/WEB-INF/templates/commonLayout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

	<ui:define name="cssFiles">
		<h:outputStylesheet name="forms.css" library="css" />
		<h:outputStylesheet name="buttons.css" library="css" />
	</ui:define>

	<ui:define name="title">Connexion</ui:define>

	<ui:define name="header">

		<h:link outcome="index">Accueil</h:link>
		<h:link outcome="userSubscriptionForm">S'inscrire</h:link>

	</ui:define>

	<ui:define name="content">
		<h1>Connexion</h1>

		<h:form id="loginForm">
			<div class="form-container">
				<div class="grid">
					<h:panelGrid columns="1" class="grid">

						<h:outputLabel value="Identifiant : " for="loginId" />
						<h:inputText id="loginId" value="#{loginBean.user.login}"
							class="formInput" required="true"
							requiredMessage="Veuillez saisir un identifiant !"
							validatorMessage="L'identifiant doit contenir 5 à 15 caractères et aucun espace !">
							<f:validateRegex pattern="(^(\S){5,15})" for="loginId" />
						</h:inputText>
						<h:message styleClass="errorMessage" for="loginId" />

						<h:outputLabel value="Mot de passe : " for="loginPassword" />
						<h:inputSecret id="loginPassword"
							value="#{loginBean.user.security.password}" class="formInput"
							required="true"
							requiredMessage="Veuillez saisir un mot de passe !">
						</h:inputSecret>
						<h:message styleclasse="errorMessage" for="loginPassword" />
						<h:outputText rendered="#{not loginBean.correctPassword or not loginBean.userActive}" value="Identifiant et/ou mot de passe incorrect(s)"/>
						<br />
						<h:commandButton action="#{loginBean.login()}" value="Login"
							class="custom-button" />

					</h:panelGrid>
				</div>
			</div>
		</h:form>

	</ui:define>

</ui:composition>





